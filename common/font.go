package common

import (
	"fmt"
)

var font = map[string]string{
	"011001001010010111101001010010": "A",
	"111001001011100100101001011100": "B",
	"011001001010000100001001001100": "C",
	// "": "D",
	"111101000011100100001000011110": "E",
	"111101000011100100001000010000": "F",
	"011001001010000101101001001110": "G",
	"100101001011110100101001010010": "H",
	// "": "I",
	"001100001000010000101001001100": "J",
	"100101010011000101001010010010": "K",
	"100001000010000100001000011110": "L",
	// "": "M",
	// "": "N",
	// "": "O",
	"111001001010010111001000010000": "P",
	// "": "Q",
	"111001001010010111001010010010": "R",
	// "": "S",
	// "": "T",
	"100101001010010100101001001100": "U",
	// "": "V",
	// "": "W",
	// "": "X",
	"100011000101010001000010000100": "Y",
	"111100001000100010001000011110": "Z",
	"000000000000000000000000000000": " ",
}

func (g *IntGrid) DecodeChar() (string) {
	line := ""
	for y := 0; y < len(g.Rows); y++ {
		for x := 0; x < len(g.Rows[0].Cols)-1; x++ { // -1 because letters have a space at the end
			line += fmt.Sprintf("%v", g.Rows[y].Cols[x])
		}
	}
	if letter, ok := font[line]; ok {
		return letter
	}
	panic("Unknown Char! " + line)
	return line
}